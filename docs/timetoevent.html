<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Time-To-Event Outcomes | Covariate Adjustment in Randomized Trials</title>
  <meta name="description" content="<p>This a series of tutorials meant to help investigators apply covariate
adjusted analyses in randomized trials.</p>" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Time-To-Event Outcomes | Covariate Adjustment in Randomized Trials" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This a series of tutorials meant to help investigators apply covariate
adjusted analyses in randomized trials.</p>" />
  <meta name="github-repo" content="covariateadjustment/covariateadjustment.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Time-To-Event Outcomes | Covariate Adjustment in Randomized Trials" />
  
  <meta name="twitter:description" content="<p>This a series of tutorials meant to help investigators apply covariate
adjusted analyses in randomized trials.</p>" />
  

<meta name="author" content="Josh Betz, Kelly van Lancker, and Michael Rosenblum" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="doublyrobust.html"/>
<link rel="next" href="groupsequential.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/table1-1.0/table1_defaults.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Covariate Adjustment in Randomized Trials</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Covariate Adjustment: Opportunities and Challenges</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#using-this-book"><i class="fa fa-check"></i><b>1.1</b> Using this Book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#case-studies"><i class="fa fa-check"></i><b>1.2</b> Case Studies</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#ctn_03"><i class="fa fa-check"></i><b>1.2.1</b> Buprenorphine tapering schedule and illicit opioid use: CTN-03</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#mistie_iii"><i class="fa fa-check"></i><b>1.2.2</b> Functional Outcome in Hemorrhagic Stroke: MISTIE III</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#notation"><i class="fa fa-check"></i><b>2.1</b> Notation and Assumptions</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#ancova"><i class="fa fa-check"></i><b>2.2</b> The Analysis of Covariance (ANCOVA)</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#generalizing-the-ancova-g-computation"><i class="fa fa-check"></i><b>2.3</b> Generalizing the ANCOVA: G-computation</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#combining-covariate-adjustment-and-stratified-randomization"><i class="fa fa-check"></i><b>2.4</b> Combining Covariate Adjustment and Stratified Randomization</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estimands.html"><a href="estimands.html"><i class="fa fa-check"></i><b>3</b> Targets of Inference: Estimands</a>
<ul>
<li class="chapter" data-level="3.1" data-path="estimands.html"><a href="estimands.html#estimands-for-continuous-and-binary-outcomes"><i class="fa fa-check"></i><b>3.1</b> Estimands for Continuous and Binary Outcomes</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="estimands.html"><a href="estimands.html#difference-in-means"><i class="fa fa-check"></i><b>3.1.1</b> Difference in Means</a></li>
<li class="chapter" data-level="3.1.2" data-path="estimands.html"><a href="estimands.html#ratio-of-means"><i class="fa fa-check"></i><b>3.1.2</b> Ratio of Means</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="estimands.html"><a href="estimands.html#ordinal_estimands"><i class="fa fa-check"></i><b>3.2</b> Estimands for Ordinal Outcomes</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="estimands.html"><a href="estimands.html#difference-in-mean-utility"><i class="fa fa-check"></i><b>3.2.1</b> Difference in Mean Utility</a></li>
<li class="chapter" data-level="3.2.2" data-path="estimands.html"><a href="estimands.html#mann-whitney-m-w-estimand"><i class="fa fa-check"></i><b>3.2.2</b> Mann-Whitney (M-W) Estimand</a></li>
<li class="chapter" data-level="3.2.3" data-path="estimands.html"><a href="estimands.html#log-odds-ratio-lor"><i class="fa fa-check"></i><b>3.2.3</b> Log Odds Ratio (LOR)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="estimands.html"><a href="estimands.html#survival_estimands"><i class="fa fa-check"></i><b>3.3</b> Survival/Time-To-Event Outcomes</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="estimands.html"><a href="estimands.html#survival-function"><i class="fa fa-check"></i><b>3.3.1</b> Survival Function</a></li>
<li class="chapter" data-level="3.3.2" data-path="estimands.html"><a href="estimands.html#hazard_ratio"><i class="fa fa-check"></i><b>3.3.2</b> Hazard Ratio</a></li>
<li class="chapter" data-level="3.3.3" data-path="estimands.html"><a href="estimands.html#restricted-mean-survival-time"><i class="fa fa-check"></i><b>3.3.3</b> Restricted Mean Survival Time</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="using_r.html"><a href="using_r.html"><i class="fa fa-check"></i><b>4</b> Using R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="using_r.html"><a href="using_r.html#installing-packages"><i class="fa fa-check"></i><b>4.1</b> Installing Packages</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="using_r.html"><a href="using_r.html#packages-from-cran"><i class="fa fa-check"></i><b>4.1.1</b> Packages from CRAN</a></li>
<li class="chapter" data-level="4.1.2" data-path="using_r.html"><a href="using_r.html#packages-from-github"><i class="fa fa-check"></i><b>4.1.2</b> Packages from Github</a></li>
<li class="chapter" data-level="4.1.3" data-path="using_r.html"><a href="using_r.html#loading-packages-into-workspace"><i class="fa fa-check"></i><b>4.1.3</b> Loading Packages into Workspace</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="using_r.html"><a href="using_r.html#Load_MISTIE"><i class="fa fa-check"></i><b>4.2</b> Loading the Data: MISTIE-III</a></li>
<li class="chapter" data-level="4.3" data-path="using_r.html"><a href="using_r.html#assessing-baseline-balance"><i class="fa fa-check"></i><b>4.3</b> Assessing Baseline Balance</a></li>
<li class="chapter" data-level="4.4" data-path="using_r.html"><a href="using_r.html#visualizing-data"><i class="fa fa-check"></i><b>4.4</b> Visualizing Data</a></li>
<li class="chapter" data-level="4.5" data-path="using_r.html"><a href="using_r.html#fitting-regression-models"><i class="fa fa-check"></i><b>4.5</b> Fitting Regression Models</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="using_r.html"><a href="using_r.html#generalized-linear-model"><i class="fa fa-check"></i><b>4.5.1</b> Generalized Linear Model</a></li>
<li class="chapter" data-level="4.5.2" data-path="using_r.html"><a href="using_r.html#logrank-test-and-cox-proportional-hazards-model"><i class="fa fa-check"></i><b>4.5.2</b> Logrank Test and Cox Proportional Hazards Model</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="using_r.html"><a href="using_r.html#variance-estimation"><i class="fa fa-check"></i><b>4.6</b> Variance Estimation</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="using_r.html"><a href="using_r.html#robust-standard-errors"><i class="fa fa-check"></i><b>4.6.1</b> Robust Standard Errors</a></li>
<li class="chapter" data-level="4.6.2" data-path="using_r.html"><a href="using_r.html#bootstrap-estimator"><i class="fa fa-check"></i><b>4.6.2</b> Bootstrap Estimator</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="using_r.html"><a href="using_r.html#addressing-multiplicity"><i class="fa fa-check"></i><b>4.7</b> Addressing Multiplicity</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="applying-covariate-adjustment-ancova-g-computation.html"><a href="applying-covariate-adjustment-ancova-g-computation.html"><i class="fa fa-check"></i><b>5</b> Applying Covariate Adjustment: ANCOVA &amp; G-Computation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="applying-covariate-adjustment-ancova-g-computation.html"><a href="applying-covariate-adjustment-ancova-g-computation.html#computing-the-estimate"><i class="fa fa-check"></i><b>5.1</b> Computing the Estimate</a></li>
<li class="chapter" data-level="5.2" data-path="applying-covariate-adjustment-ancova-g-computation.html"><a href="applying-covariate-adjustment-ancova-g-computation.html#standard-error-inference"><i class="fa fa-check"></i><b>5.2</b> Standard Error &amp; Inference</a></li>
<li class="chapter" data-level="5.3" data-path="applying-covariate-adjustment-ancova-g-computation.html"><a href="applying-covariate-adjustment-ancova-g-computation.html#calculating-precision-gain"><i class="fa fa-check"></i><b>5.3</b> Calculating Precision Gain</a></li>
<li class="chapter" data-level="5.4" data-path="applying-covariate-adjustment-ancova-g-computation.html"><a href="applying-covariate-adjustment-ancova-g-computation.html#covariate-adjustment-with-binary-outcomes"><i class="fa fa-check"></i><b>5.4</b> Covariate Adjustment with Binary Outcomes</a></li>
<li class="chapter" data-level="5.5" data-path="applying-covariate-adjustment-ancova-g-computation.html"><a href="applying-covariate-adjustment-ancova-g-computation.html#stratified-randomization-covariate-adjustment"><i class="fa fa-check"></i><b>5.5</b> Stratified Randomization &amp; Covariate Adjustment</a></li>
<li class="chapter" data-level="5.6" data-path="applying-covariate-adjustment-ancova-g-computation.html"><a href="applying-covariate-adjustment-ancova-g-computation.html#missing-outcome-data-inverse-weighting"><i class="fa fa-check"></i><b>5.6</b> Missing Outcome Data: Inverse Weighting</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="doublyrobust.html"><a href="doublyrobust.html"><i class="fa fa-check"></i><b>6</b> Doubly Robust Estimators</a>
<ul>
<li class="chapter" data-level="6.1" data-path="doublyrobust.html"><a href="doublyrobust.html#augmented-inverse-probability-weighted-estimation"><i class="fa fa-check"></i><b>6.1</b> Augmented Inverse Probability Weighted Estimation</a></li>
<li class="chapter" data-level="6.2" data-path="doublyrobust.html"><a href="doublyrobust.html#targeted-maximum-likelihood-estimation"><i class="fa fa-check"></i><b>6.2</b> Targeted Maximum Likelihood Estimation</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="timetoevent.html"><a href="timetoevent.html"><i class="fa fa-check"></i><b>7</b> Time-To-Event Outcomes</a>
<ul>
<li class="chapter" data-level="7.1" data-path="timetoevent.html"><a href="timetoevent.html#unadjusted-estimators"><i class="fa fa-check"></i><b>7.1</b> Unadjusted Estimators</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="timetoevent.html"><a href="timetoevent.html#kaplan-meier-estimator"><i class="fa fa-check"></i><b>7.1.1</b> Kaplan-Meier Estimator</a></li>
<li class="chapter" data-level="7.1.2" data-path="timetoevent.html"><a href="timetoevent.html#logrank-test"><i class="fa fa-check"></i><b>7.1.2</b> Logrank Test</a></li>
<li class="chapter" data-level="7.1.3" data-path="timetoevent.html"><a href="timetoevent.html#cox-proportional-hazards-model"><i class="fa fa-check"></i><b>7.1.3</b> Cox Proportional Hazards Model</a></li>
<li class="chapter" data-level="7.1.4" data-path="timetoevent.html"><a href="timetoevent.html#survival-probability"><i class="fa fa-check"></i><b>7.1.4</b> Survival Probability</a></li>
<li class="chapter" data-level="7.1.5" data-path="timetoevent.html"><a href="timetoevent.html#restricted-mean-survival-time-rmst"><i class="fa fa-check"></i><b>7.1.5</b> Restricted Mean Survival Time (RMST)</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="timetoevent.html"><a href="timetoevent.html#covariate-adjusted-estimators"><i class="fa fa-check"></i><b>7.2</b> Covariate-Adjusted Estimators</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="timetoevent.html"><a href="timetoevent.html#covariate-adjusted-estimates-of-survival-function"><i class="fa fa-check"></i><b>7.2.1</b> Covariate Adjusted Estimates of Survival Function</a></li>
<li class="chapter" data-level="7.2.2" data-path="timetoevent.html"><a href="timetoevent.html#conditional-hazard-ratio"><i class="fa fa-check"></i><b>7.2.2</b> Conditional Hazard Ratio</a></li>
<li class="chapter" data-level="7.2.3" data-path="timetoevent.html"><a href="timetoevent.html#marginal-hazard-ratio"><i class="fa fa-check"></i><b>7.2.3</b> Marginal Hazard Ratio</a></li>
<li class="chapter" data-level="7.2.4" data-path="timetoevent.html"><a href="timetoevent.html#survival-probability-1"><i class="fa fa-check"></i><b>7.2.4</b> Survival Probability</a></li>
<li class="chapter" data-level="7.2.5" data-path="timetoevent.html"><a href="timetoevent.html#restricted-mean-survival-time-rmst-1"><i class="fa fa-check"></i><b>7.2.5</b> Restricted Mean Survival Time (RMST)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="groupsequential.html"><a href="groupsequential.html"><i class="fa fa-check"></i><b>8</b> Group Sequential Designs</a>
<ul>
<li class="chapter" data-level="8.1" data-path="groupsequential.html"><a href="groupsequential.html#group-sequential-designs"><i class="fa fa-check"></i><b>8.1</b> Group Sequential Designs</a></li>
<li class="chapter" data-level="8.2" data-path="groupsequential.html"><a href="groupsequential.html#power-sample-size-calculations"><i class="fa fa-check"></i><b>8.2</b> Power &amp; Sample Size Calculations</a></li>
<li class="chapter" data-level="8.3" data-path="groupsequential.html"><a href="groupsequential.html#analyses-unadjusted-and-adjusted"><i class="fa fa-check"></i><b>8.3</b> Analyses: Unadjusted and Adjusted</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="informationadaptive.html"><a href="informationadaptive.html"><i class="fa fa-check"></i><b>9</b> Information Adaptive Designs</a>
<ul>
<li class="chapter" data-level="9.1" data-path="informationadaptive.html"><a href="informationadaptive.html#information-adaptive-designs"><i class="fa fa-check"></i><b>9.1</b> Information Adaptive Designs</a></li>
<li class="chapter" data-level="9.2" data-path="informationadaptive.html"><a href="informationadaptive.html#power-sample-size-calculations-1"><i class="fa fa-check"></i><b>9.2</b> Power &amp; Sample Size Calculations</a></li>
<li class="chapter" data-level="9.3" data-path="informationadaptive.html"><a href="informationadaptive.html#analyses-unadjusted-and-adjusted-1"><i class="fa fa-check"></i><b>9.3</b> Analyses: Unadjusted and Adjusted</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="protocol_sap.html"><a href="protocol_sap.html"><i class="fa fa-check"></i><b>10</b> Protocol and Statistical Analysis Plan Considerations</a>
<ul>
<li class="chapter" data-level="10.1" data-path="protocol_sap.html"><a href="protocol_sap.html#study-protocol"><i class="fa fa-check"></i><b>10.1</b> Study Protocol</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="protocol_sap.html"><a href="protocol_sap.html#sample-size-justification-9.4.1"><i class="fa fa-check"></i><b>10.1.1</b> Sample Size Justification (9.4.1)</a></li>
<li class="chapter" data-level="10.1.2" data-path="protocol_sap.html"><a href="protocol_sap.html#general-approach-9.4.1"><i class="fa fa-check"></i><b>10.1.2</b> General Approach (9.4.1)</a></li>
<li class="chapter" data-level="10.1.3" data-path="protocol_sap.html"><a href="protocol_sap.html#analysis-of-the-primarysecondary-endpoints-9.4.2-3"><i class="fa fa-check"></i><b>10.1.3</b> Analysis of the Primary/Secondary Endpoints (9.4.2-3)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="recommendations.html"><a href="recommendations.html"><i class="fa fa-check"></i><b>11</b> Guidance on Applying Covariate Adjustment</a>
<ul>
<li class="chapter" data-level="11.1" data-path="recommendations.html"><a href="recommendations.html#relevant-regulatory-guidance"><i class="fa fa-check"></i><b>11.1</b> Relevant Regulatory Guidance</a></li>
<li class="chapter" data-level="11.2" data-path="recommendations.html"><a href="recommendations.html#missing-covariates"><i class="fa fa-check"></i><b>11.2</b> Missing Covariates</a></li>
<li class="chapter" data-level="11.3" data-path="recommendations.html"><a href="recommendations.html#statistical-analysis-plans"><i class="fa fa-check"></i><b>11.3</b> Statistical Analysis Plans</a></li>
<li class="chapter" data-level="11.4" data-path="recommendations.html"><a href="recommendations.html#sample-size-for-adjusted-vs.-unadjusted"><i class="fa fa-check"></i><b>11.4</b> Sample size for adjusted vs. unadjusted</a></li>
<li class="chapter" data-level="11.5" data-path="recommendations.html"><a href="recommendations.html#number-of-parameters-vs.-sample-size"><i class="fa fa-check"></i><b>11.5</b> Number of parameters vs. sample size</a></li>
<li class="chapter" data-level="11.6" data-path="recommendations.html"><a href="recommendations.html#data-adaptive-covariate-adjustment"><i class="fa fa-check"></i><b>11.6</b> Data-Adaptive Covariate Adjustment</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="appendices.html"><a href="appendices.html"><i class="fa fa-check"></i><b>12</b> Appendices</a>
<ul>
<li class="chapter" data-level="12.1" data-path="appendices.html"><a href="appendices.html#appendix_a_glossary"><i class="fa fa-check"></i><b>12.1</b> Appendix A: Glossary of Terms</a></li>
<li class="chapter" data-level="12.2" data-path="appendices.html"><a href="appendices.html#appendix_b_using_r"><i class="fa fa-check"></i><b>12.2</b> Appendix B: Resources for Using R</a></li>
<li class="chapter" data-level="12.3" data-path="appendices.html"><a href="appendices.html#appendix_c_references_by_method"><i class="fa fa-check"></i><b>12.3</b> Appendix C:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Covariate Adjustment in Randomized Trials</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="timetoevent" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Time-To-Event Outcomes<a href="timetoevent.html#timetoevent" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>We will illustrate covariate adjustment for time-to-event outcomes using the simulated MISTIE III dataset. The code to load this data is in the chapter on <a href="using_r.html#Load_MISTIE">Using R</a>. Here we are interested in whether the minimally invasive surgery procedure improves survival in the first 90 days after randomization.</p>
<hr />
<div id="unadjusted-estimators" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Unadjusted Estimators<a href="timetoevent.html#unadjusted-estimators" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before discussing covariate adjustment in time-to-event outcomes, it is worth reviewing unadjusted methods, the assumptions needed for their valid use, and their interpretation.</p>
<p>The Kaplan-Meier (or K-M) estimate of the survival function is one of the most ubiquitous approaches to time-to-event outcomes. The K-M estimator assumes that censoring occurs independent of event time in each treatment arm. This is often violated when baseline covariates associated with event times and dropout <span class="citation">(<a href="#ref-Diaz2018">Dı́az et al. 2018</a>)</span>.</p>
<p>The Logrank test and the Cox Proportional Hazards model are closely related to each other and <a href="estimands.html#hazard_ratio">the proportional hazards assumption</a>. The Logrank Test provides a valid test of the null hypothesis if censoring is independent of treatment or the event time in each treatment arm <span class="citation">(<a href="#ref-VanLancker2021">Lancker, Dukes, and Vansteelandt 2021</a>)</span>. While its validity does not depend on the proportional hazards (PH) assumption, its power is greatest when the PH assumption is true. When the PH assumption does not hold, weighted logrank tests can improve power by emphasizing different parts of the survival curve <span class="citation">(<a href="#ref-Lin2017">Lin and León 2017</a>)</span>.</p>
<p>The Cox Proportional Hazards (PH) Model provides a valid test of the null hypothesis if the sandwich covariance estimator is used and censoring is either conditionally independent of treatment assignment given the covariates or conditionally independent of the covariates given treatment assignment. As previously mentioned, the <a href="estimands.html#hazard_ratio">proportional hazards assumption</a> may not be known to hold a priori, presents difficulties in interpretation when the assumption does not empirically hold, and does not quantify the amount of time a participant can expect to be event free under a particular treatment <span class="citation">(<a href="#ref-Rudser2012">Rudser, LeBlanc, and Emerson 2012</a>)</span>.</p>
<p>Analyses of the Restricted Mean Survival Time typically assume that <span class="math inline">\(\ldots\)</span>.
Analyses of the Survival Probability typically assume that <span class="math inline">\(\ldots\)</span>.</p>
<hr />
<div id="kaplan-meier-estimator" class="section level3 hasAnchor" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Kaplan-Meier Estimator<a href="timetoevent.html#kaplan-meier-estimator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="_main_files/figure-html/KM-MISTIE-Survival-1.png" width="80%" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="logrank-test" class="section level3 hasAnchor" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Logrank Test<a href="timetoevent.html#logrank-test" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Logrank test (and the <span class="math inline">\(G^{\rho}\)</span> family of tests) can be performed using the <code>survival::survdiff</code> function:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="timetoevent.html#cb98-1" tabindex="-1"></a>survival<span class="sc">::</span><span class="fu">survdiff</span>(</span>
<span id="cb98-2"><a href="timetoevent.html#cb98-2" tabindex="-1"></a>  <span class="at">formula =</span></span>
<span id="cb98-3"><a href="timetoevent.html#cb98-3" tabindex="-1"></a>    <span class="fu">Surv</span>(<span class="at">time =</span> days_on_study,</span>
<span id="cb98-4"><a href="timetoevent.html#cb98-4" tabindex="-1"></a>         <span class="at">event =</span> died_on_study) <span class="sc">~</span> arm,</span>
<span id="cb98-5"><a href="timetoevent.html#cb98-5" tabindex="-1"></a>  <span class="at">data =</span> sim_miii</span>
<span id="cb98-6"><a href="timetoevent.html#cb98-6" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## Call:
## survival::survdiff(formula = Surv(time = days_on_study, event = died_on_study) ~ 
##     arm, data = sim_miii)
## 
##                N Observed Expected (O-E)^2/E (O-E)^2/V
## arm=medical  250       64     49.6      4.19      8.06
## arm=surgical 250       40     54.4      3.82      8.06
## 
##  Chisq= 8.1  on 1 degrees of freedom, p= 0.005</code></pre>
<hr />
</div>
<div id="cox-proportional-hazards-model" class="section level3 hasAnchor" number="7.1.3">
<h3><span class="header-section-number">7.1.3</span> Cox Proportional Hazards Model<a href="timetoevent.html#cox-proportional-hazards-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Cox Proportional Hazards model can be fitted using the <code>survival::coxph</code> function: the specification of the model is done using a formula object, with a <code>survival::Surv</code> object on the left hand side, and the covariates specified on the right hand side. To obtain the robust variance estimate of the coefficients, the <code>robust</code> argument should be set to <code>TRUE</code>. See <code>?survival::coxph</code> for more details, such as handling of tied survival times. Note that when the model only includes treatment assignment, it is estimating a marginal estimand, the marginal hazard ratio: when baseline covariates are included, it is estimating a conditional estimand, the hazard ratio conditional on the specified covariates.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="timetoevent.html#cb100-1" tabindex="-1"></a>unadjusted_cox <span class="ot">&lt;-</span></span>
<span id="cb100-2"><a href="timetoevent.html#cb100-2" tabindex="-1"></a>  survival<span class="sc">::</span><span class="fu">coxph</span>(</span>
<span id="cb100-3"><a href="timetoevent.html#cb100-3" tabindex="-1"></a>    <span class="at">formula =</span></span>
<span id="cb100-4"><a href="timetoevent.html#cb100-4" tabindex="-1"></a>      <span class="fu">Surv</span>(<span class="at">time =</span> days_on_study,</span>
<span id="cb100-5"><a href="timetoevent.html#cb100-5" tabindex="-1"></a>           <span class="at">event =</span> died_on_study) <span class="sc">~</span> arm,</span>
<span id="cb100-6"><a href="timetoevent.html#cb100-6" tabindex="-1"></a>    <span class="at">ties =</span> <span class="st">&quot;efron&quot;</span>,</span>
<span id="cb100-7"><a href="timetoevent.html#cb100-7" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>,</span>
<span id="cb100-8"><a href="timetoevent.html#cb100-8" tabindex="-1"></a>    <span class="at">data =</span> sim_miii</span>
<span id="cb100-9"><a href="timetoevent.html#cb100-9" tabindex="-1"></a>  )</span>
<span id="cb100-10"><a href="timetoevent.html#cb100-10" tabindex="-1"></a></span>
<span id="cb100-11"><a href="timetoevent.html#cb100-11" tabindex="-1"></a><span class="fu">summary</span>(unadjusted_cox)</span></code></pre></div>
<pre><code>## Call:
## survival::coxph(formula = Surv(time = days_on_study, event = died_on_study) ~ 
##     arm, data = sim_miii, ties = &quot;efron&quot;, robust = TRUE)
## 
##   n= 500, number of events= 104 
## 
##                coef exp(coef) se(coef) robust se      z Pr(&gt;|z|)   
## armsurgical -0.5670    0.5672   0.2016    0.1995 -2.841  0.00449 **
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
##             exp(coef) exp(-coef) lower .95 upper .95
## armsurgical    0.5672      1.763    0.3836    0.8387
## 
## Concordance= 0.575  (se = 0.024 )
## Likelihood ratio test= 8.16  on 1 df,   p=0.004
## Wald test            = 8.07  on 1 df,   p=0.004
## Score (logrank) test = 8.12  on 1 df,   p=0.004,   Robust = 8.03  p=0.005
## 
##   (Note: the likelihood ratio and score tests assume independence of
##      observations within a cluster, the Wald and robust score tests do not).</code></pre>
<p>Tests for the proportional hazards assumption using weighted residuals can be obtained using <code>survival::cox.zph</code>.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="timetoevent.html#cb102-1" tabindex="-1"></a>unadjusted_cox_ph_test <span class="ot">&lt;-</span></span>
<span id="cb102-2"><a href="timetoevent.html#cb102-2" tabindex="-1"></a>  survival<span class="sc">::</span><span class="fu">cox.zph</span>(unadjusted_cox)</span>
<span id="cb102-3"><a href="timetoevent.html#cb102-3" tabindex="-1"></a></span>
<span id="cb102-4"><a href="timetoevent.html#cb102-4" tabindex="-1"></a><span class="fu">print</span>(unadjusted_cox_ph_test)</span></code></pre></div>
<pre><code>##        chisq df      p
## arm     9.85  1 0.0017
## GLOBAL  9.85  1 0.0017</code></pre>
<p>In addition to test statistics, plots can be used to visualize how covariate effects vary by time on study:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="timetoevent.html#cb104-1" tabindex="-1"></a><span class="co"># Plot Proportionality Results</span></span>
<span id="cb104-2"><a href="timetoevent.html#cb104-2" tabindex="-1"></a><span class="fu">plot</span>(unadjusted_cox_ph_test,</span>
<span id="cb104-3"><a href="timetoevent.html#cb104-3" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Proportional Hazards Test&quot;</span>)</span>
<span id="cb104-4"><a href="timetoevent.html#cb104-4" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">0</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/Unadjusted-Cox-PH-Plot-MISTIE-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Here we see that the hazard ratio for treatment arm is negative earlier in the study, reflecting lower mortality after randomization in the surgical arm. The magnitude of this effect decreases with time, eventually becoming indistinguishable from zero. Since the assumption that the hazards are approximately proportional over the follow-up period is not empirically supported, this complicates the interpretation of the estimated hazard ratio. The estimate represents a weighted average of the time-varying hazard ratio: what further complicates interpretation is that the weighting of the time-varying hazards depends on the distribution of censoring times, which are considered a nuisance parameter <span class="citation">(<a href="#ref-Rudser2012">Rudser, LeBlanc, and Emerson 2012</a>)</span>.</p>
<p>Setting aside the issues of the proportional hazards assumption, based on the unadjusted analysis, the hazard of death would be 43% lower if all eligible patients were assigned to treatment instead of control.</p>
<hr />
</div>
<div id="survival-probability" class="section level3 hasAnchor" number="7.1.4">
<h3><span class="header-section-number">7.1.4</span> Survival Probability<a href="timetoevent.html#survival-probability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="timetoevent.html#cb105-1" tabindex="-1"></a>surv_metadata_unadj <span class="ot">&lt;-</span></span>
<span id="cb105-2"><a href="timetoevent.html#cb105-2" tabindex="-1"></a>  adjrct<span class="sc">::</span><span class="fu">survrct</span>(</span>
<span id="cb105-3"><a href="timetoevent.html#cb105-3" tabindex="-1"></a>    <span class="at">outcome.formula =</span></span>
<span id="cb105-4"><a href="timetoevent.html#cb105-4" tabindex="-1"></a>      <span class="fu">Surv</span>(days_on_study, died_on_study) <span class="sc">~</span> tx, </span>
<span id="cb105-5"><a href="timetoevent.html#cb105-5" tabindex="-1"></a>    <span class="at">trt.formula =</span> tx <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb105-6"><a href="timetoevent.html#cb105-6" tabindex="-1"></a>    <span class="at">data =</span> sim_miii,</span>
<span id="cb105-7"><a href="timetoevent.html#cb105-7" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="timetoevent.html#cb106-1" tabindex="-1"></a>surv_prob_unadj <span class="ot">&lt;-</span> </span>
<span id="cb106-2"><a href="timetoevent.html#cb106-2" tabindex="-1"></a>  adjrct<span class="sc">::</span><span class="fu">survprob</span>(</span>
<span id="cb106-3"><a href="timetoevent.html#cb106-3" tabindex="-1"></a>    <span class="at">metadata =</span> surv_metadata_unadj,</span>
<span id="cb106-4"><a href="timetoevent.html#cb106-4" tabindex="-1"></a>    <span class="at">horizon =</span> <span class="dv">90</span></span>
<span id="cb106-5"><a href="timetoevent.html#cb106-5" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="timetoevent.html#cb107-1" tabindex="-1"></a>surv_prob_unadj</span></code></pre></div>
<pre><code>## Survival Probability Estimator: tmle</code></pre>
<pre><code>## Marginal Survival Probability: Pr(T &gt; 90 | A = a)</code></pre>
<pre><code>## Treatment Arm</code></pre>
<pre><code>## Estimate: 0.9</code></pre>
<pre><code>## Std. error: 0.02</code></pre>
<pre><code>## 95% CI: (0.86, 0.93)</code></pre>
<pre><code>## Control Arm</code></pre>
<pre><code>## Estimate: 0.8</code></pre>
<pre><code>## Std. error: 0.03</code></pre>
<pre><code>## 95% CI: (0.75, 0.85)</code></pre>
<pre><code>## Treatment Effect: Pr(T &gt; 90 | A = 1) - Pr(T &gt; 90 | A = 0)</code></pre>
<pre><code>## Additive effect</code></pre>
<pre><code>## Estimate: 0.1</code></pre>
<pre><code>## Std. error: 0.03</code></pre>
<pre><code>## 95% CI: (0.03, 0.16)</code></pre>
<p>Without covariate adjustment, the probability of surviving at 90 days post randomization was 10 percent higher if everyone were assigned to treatment than if everyone were assigned to control.</p>
<hr />
</div>
<div id="restricted-mean-survival-time-rmst" class="section level3 hasAnchor" number="7.1.5">
<h3><span class="header-section-number">7.1.5</span> Restricted Mean Survival Time (RMST)<a href="timetoevent.html#restricted-mean-survival-time-rmst" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>survRM2</code> package can be used to obtain the RMST in each arm, as well as differences and ratios of the RMST between treatment arms:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="timetoevent.html#cb123-1" tabindex="-1"></a><span class="fu">with</span>(</span>
<span id="cb123-2"><a href="timetoevent.html#cb123-2" tabindex="-1"></a>  sim_miii,</span>
<span id="cb123-3"><a href="timetoevent.html#cb123-3" tabindex="-1"></a>  survRM2<span class="sc">::</span><span class="fu">rmst2</span>(</span>
<span id="cb123-4"><a href="timetoevent.html#cb123-4" tabindex="-1"></a>    <span class="at">time =</span> days_on_study,</span>
<span id="cb123-5"><a href="timetoevent.html#cb123-5" tabindex="-1"></a>    <span class="at">status =</span> died_on_study,</span>
<span id="cb123-6"><a href="timetoevent.html#cb123-6" tabindex="-1"></a>    <span class="at">arm =</span> tx,</span>
<span id="cb123-7"><a href="timetoevent.html#cb123-7" tabindex="-1"></a>    <span class="at">tau =</span> <span class="dv">90</span></span>
<span id="cb123-8"><a href="timetoevent.html#cb123-8" tabindex="-1"></a>  )</span>
<span id="cb123-9"><a href="timetoevent.html#cb123-9" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## 
## The truncation time: tau = 90  was specified. 
## 
## Restricted Mean Survival Time (RMST) by arm 
##                Est.    se lower .95 upper .95
## RMST (arm=1) 84.510 1.160    82.237    86.783
## RMST (arm=0) 75.744 1.932    71.957    79.531
## 
## 
## Restricted Mean Time Lost (RMTL) by arm 
##                Est.    se lower .95 upper .95
## RMTL (arm=1)  5.490 1.160     3.217     7.763
## RMTL (arm=0) 14.256 1.932    10.469    18.043
## 
## 
## Between-group contrast 
##                       Est. lower .95 upper .95 p
## RMST (arm=1)-(arm=0) 8.766     4.350    13.182 0
## RMST (arm=1)/(arm=0) 1.116     1.054     1.181 0
## RMTL (arm=1)/(arm=0) 0.385     0.235     0.630 0</code></pre>
<p>This can also be done using the <code>adjrct</code> package. Once the “survival metadata” has been produced using the <code>adjrct::survrct</code> function, the metadata can be passed to the <code>adjrct::rmst</code> function.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="timetoevent.html#cb125-1" tabindex="-1"></a>rmst_unadj <span class="ot">&lt;-</span> </span>
<span id="cb125-2"><a href="timetoevent.html#cb125-2" tabindex="-1"></a>  adjrct<span class="sc">::</span><span class="fu">rmst</span>(</span>
<span id="cb125-3"><a href="timetoevent.html#cb125-3" tabindex="-1"></a>    <span class="at">metadata =</span> surv_metadata_unadj,</span>
<span id="cb125-4"><a href="timetoevent.html#cb125-4" tabindex="-1"></a>    <span class="at">horizon =</span> <span class="dv">90</span></span>
<span id="cb125-5"><a href="timetoevent.html#cb125-5" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="timetoevent.html#cb126-1" tabindex="-1"></a>rmst_unadj</span></code></pre></div>
<pre><code>## RMST Estimator: tmle</code></pre>
<pre><code>## Marginal RMST: E(min[T, 90] | A = a)</code></pre>
<pre><code>## Treatment Arm</code></pre>
<pre><code>## Estimate: 84.51</code></pre>
<pre><code>## Std. error: 1.16</code></pre>
<pre><code>## 95% CI: (82.24, 86.78)</code></pre>
<pre><code>## Control Arm</code></pre>
<pre><code>## Estimate: 75.74</code></pre>
<pre><code>## Std. error: 1.93</code></pre>
<pre><code>## 95% CI: (71.95, 79.54)</code></pre>
<pre><code>## Treatment Effect: E(min[T, 90] | A = 1) - E(min[T, 90] | A = 0)</code></pre>
<pre><code>## Additive effect</code></pre>
<pre><code>## Estimate: 8.77</code></pre>
<pre><code>## Std. error: 2.26</code></pre>
<pre><code>## 95% CI: (4.34, 13.19)</code></pre>
<p>Based on the unadjusted analysis, patients can expect to live 8.8 days longer in the first 90 days if everyone were assigned to treatment than if everyone were assigned to control.</p>
<hr />
</div>
</div>
<div id="covariate-adjusted-estimators" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Covariate-Adjusted Estimators<a href="timetoevent.html#covariate-adjusted-estimators" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The code to produce a covariate adjusted analysis is usually a straightforward modification of the code used for an unadjusted analysis: in many cases, it is simply a matter of adding the baseline covariates into the regression model formula.</p>
<p>Care must be taken, however, to evaluate the assumptions of the models being used where applicable, and ensure that the interpretation is consistent with the target of inference (marginal vs. conditional estimands).</p>
<hr />
<div id="covariate-adjusted-estimates-of-survival-function" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Covariate Adjusted Estimates of Survival Function<a href="timetoevent.html#covariate-adjusted-estimates-of-survival-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Covariate adjustment can not only improve upon the precision of the Kaplan-Meier estimate of the survival function, it can also provide an estimate that requires less stringent assumptions for validity.</p>
<hr />
</div>
<div id="conditional-hazard-ratio" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Conditional Hazard Ratio<a href="timetoevent.html#conditional-hazard-ratio" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As noted before, covariates can be added to the Cox model, however the resulting estimates are no longer marginal quantities, they are conditional on the specification of the covariates:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="timetoevent.html#cb142-1" tabindex="-1"></a>adjusted_cox <span class="ot">&lt;-</span></span>
<span id="cb142-2"><a href="timetoevent.html#cb142-2" tabindex="-1"></a>  survival<span class="sc">::</span><span class="fu">coxph</span>(</span>
<span id="cb142-3"><a href="timetoevent.html#cb142-3" tabindex="-1"></a>    <span class="at">formula =</span></span>
<span id="cb142-4"><a href="timetoevent.html#cb142-4" tabindex="-1"></a>      <span class="fu">Surv</span>(<span class="at">time =</span> days_on_study,</span>
<span id="cb142-5"><a href="timetoevent.html#cb142-5" tabindex="-1"></a>           <span class="at">event =</span> died_on_study) <span class="sc">~</span> arm <span class="sc">+</span></span>
<span id="cb142-6"><a href="timetoevent.html#cb142-6" tabindex="-1"></a>      age <span class="sc">+</span> male <span class="sc">+</span> hx_cvd <span class="sc">+</span> hx_hyperlipidemia <span class="sc">+</span></span>
<span id="cb142-7"><a href="timetoevent.html#cb142-7" tabindex="-1"></a>      on_anticoagulants <span class="sc">+</span> on_antiplatelets <span class="sc">+</span> ich_location <span class="sc">+</span></span>
<span id="cb142-8"><a href="timetoevent.html#cb142-8" tabindex="-1"></a>      ich_s_volume <span class="sc">+</span> ivh_s_volume <span class="sc">+</span> gcs_category,</span>
<span id="cb142-9"><a href="timetoevent.html#cb142-9" tabindex="-1"></a>    <span class="at">ties =</span> <span class="st">&quot;efron&quot;</span>,</span>
<span id="cb142-10"><a href="timetoevent.html#cb142-10" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>,</span>
<span id="cb142-11"><a href="timetoevent.html#cb142-11" tabindex="-1"></a>    <span class="at">data =</span> sim_miii</span>
<span id="cb142-12"><a href="timetoevent.html#cb142-12" tabindex="-1"></a>  )</span>
<span id="cb142-13"><a href="timetoevent.html#cb142-13" tabindex="-1"></a></span>
<span id="cb142-14"><a href="timetoevent.html#cb142-14" tabindex="-1"></a><span class="fu">summary</span>(adjusted_cox)</span></code></pre></div>
<pre><code>## Call:
## survival::coxph(formula = Surv(time = days_on_study, event = died_on_study) ~ 
##     arm + age + male + hx_cvd + hx_hyperlipidemia + on_anticoagulants + 
##         on_antiplatelets + ich_location + ich_s_volume + ivh_s_volume + 
##         gcs_category, data = sim_miii, ties = &quot;efron&quot;, robust = TRUE)
## 
##   n= 500, number of events= 104 
## 
##                                     coef exp(coef)  se(coef) robust se      z
## armsurgical                    -0.509103  0.601035  0.203415  0.204406 -2.491
## age                             0.036377  1.037047  0.009365  0.008305  4.380
## male1. Male                    -0.304160  0.737743  0.213932  0.221949 -1.370
## hx_cvd1. Yes                    0.265474  1.304048  0.287065  0.317013  0.837
## hx_hyperlipidemia1. Yes         0.162135  1.176019  0.233839  0.240778  0.673
## on_anticoagulants1. Yes         0.288125  1.333925  0.368071  0.407977  0.706
## on_antiplatelets1. Yes         -0.478800  0.619526  0.266844  0.276044 -1.735
## ich_locationLobar              -0.048168  0.952973  0.216688  0.220998 -0.218
## ich_s_volume                    0.008901  1.008941  0.006216  0.006349  1.402
## ivh_s_volume                    0.035311  1.035942  0.022026  0.024108  1.465
## gcs_category2. Moderate (9-12) -0.689235  0.501960  0.222362  0.229556 -3.002
## gcs_category3. Mild (13-15)    -1.318338  0.267580  0.298357  0.293425 -4.493
##                                Pr(&gt;|z|)    
## armsurgical                     0.01275 *  
## age                            1.19e-05 ***
## male1. Male                     0.17056    
## hx_cvd1. Yes                    0.40236    
## hx_hyperlipidemia1. Yes         0.50071    
## on_anticoagulants1. Yes         0.48005    
## on_antiplatelets1. Yes          0.08283 .  
## ich_locationLobar               0.82746    
## ich_s_volume                    0.16093    
## ivh_s_volume                    0.14300    
## gcs_category2. Moderate (9-12)  0.00268 ** 
## gcs_category3. Mild (13-15)    7.03e-06 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
##                                exp(coef) exp(-coef) lower .95 upper .95
## armsurgical                       0.6010     1.6638    0.4026    0.8972
## age                               1.0370     0.9643    1.0203    1.0541
## male1. Male                       0.7377     1.3555    0.4775    1.1398
## hx_cvd1. Yes                      1.3040     0.7668    0.7006    2.4274
## hx_hyperlipidemia1. Yes           1.1760     0.8503    0.7336    1.8852
## on_anticoagulants1. Yes           1.3339     0.7497    0.5996    2.9676
## on_antiplatelets1. Yes            0.6195     1.6141    0.3607    1.0642
## ich_locationLobar                 0.9530     1.0493    0.6180    1.4696
## ich_s_volume                      1.0089     0.9911    0.9965    1.0216
## ivh_s_volume                      1.0359     0.9653    0.9881    1.0861
## gcs_category2. Moderate (9-12)    0.5020     1.9922    0.3201    0.7872
## gcs_category3. Mild (13-15)       0.2676     3.7372    0.1506    0.4756
## 
## Concordance= 0.73  (se = 0.023 )
## Likelihood ratio test= 63.8  on 12 df,   p=5e-09
## Wald test            = 72.35  on 12 df,   p=1e-10
## Score (logrank) test = 66.35  on 12 df,   p=2e-09,   Robust = 50.27  p=1e-06
## 
##   (Note: the likelihood ratio and score tests assume independence of
##      observations within a cluster, the Wald and robust score tests do not).</code></pre>
<p>The adjusted Cox model should also be assessed for the proportional hazards assumption:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="timetoevent.html#cb144-1" tabindex="-1"></a>adjusted_cox_ph_test <span class="ot">&lt;-</span></span>
<span id="cb144-2"><a href="timetoevent.html#cb144-2" tabindex="-1"></a>  survival<span class="sc">::</span><span class="fu">cox.zph</span>(adjusted_cox)</span>
<span id="cb144-3"><a href="timetoevent.html#cb144-3" tabindex="-1"></a></span>
<span id="cb144-4"><a href="timetoevent.html#cb144-4" tabindex="-1"></a><span class="fu">print</span>(adjusted_cox_ph_test)</span></code></pre></div>
<pre><code>##                      chisq df      p
## arm               1.00e+01  1 0.0015
## age               1.03e-01  1 0.7483
## male              9.17e-01  1 0.3382
## hx_cvd            5.89e-04  1 0.9806
## hx_hyperlipidemia 6.13e-02  1 0.8045
## on_anticoagulants 2.25e-02  1 0.8807
## on_antiplatelets  1.60e-01  1 0.6893
## ich_location      7.23e+00  1 0.0072
## ich_s_volume      3.18e+00  1 0.0746
## ivh_s_volume      3.75e-04  1 0.9846
## gcs_category      3.14e+00  2 0.2078
## GLOBAL            2.70e+01 12 0.0077</code></pre>
<p>In addition to the treatment violating the proportional hazards assumption, covariates also violate this assumption, leading to the same challenges in interpretation mentioned earlier.</p>
<p>Setting aside the issues of the proportional hazards assumption and potential model misspecification, based on the adjusted analysis conditioning on the covariates in the model, the adjusted hazard of death would be 40% lower if all eligible patients were assigned to treatment instead of control.</p>
<hr />
</div>
<div id="marginal-hazard-ratio" class="section level3 hasAnchor" number="7.2.3">
<h3><span class="header-section-number">7.2.3</span> Marginal Hazard Ratio<a href="timetoevent.html#marginal-hazard-ratio" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One way to obtain a covariate-adjusted marginal estimate of the hazard ratio is through the <code>speff2trial</code> package. The syntax is similar to the covariate adjusted Cox model. The argument <code>fixed = TRUE</code> specifies that no variable selection should take place. Note that the treatment variable <code>trt.id</code> should be a binary vector, not a factor. While we have established that the proportional hazards assumption is violated in this case, below is an example of how to carry out the analysis:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="timetoevent.html#cb146-1" tabindex="-1"></a><span class="fu">library</span>(speff2trial)</span>
<span id="cb146-2"><a href="timetoevent.html#cb146-2" tabindex="-1"></a></span>
<span id="cb146-3"><a href="timetoevent.html#cb146-3" tabindex="-1"></a>surv_marginal_hr_adj <span class="ot">&lt;-</span></span>
<span id="cb146-4"><a href="timetoevent.html#cb146-4" tabindex="-1"></a>  speff2trial<span class="sc">::</span><span class="fu">speffSurv</span>(</span>
<span id="cb146-5"><a href="timetoevent.html#cb146-5" tabindex="-1"></a>    <span class="at">formula =</span></span>
<span id="cb146-6"><a href="timetoevent.html#cb146-6" tabindex="-1"></a>      survival<span class="sc">::</span><span class="fu">Surv</span>(days_on_study, died_on_study) <span class="sc">~</span></span>
<span id="cb146-7"><a href="timetoevent.html#cb146-7" tabindex="-1"></a>      age <span class="sc">+</span> male <span class="sc">+</span> hx_cvd <span class="sc">+</span> hx_hyperlipidemia <span class="sc">+</span></span>
<span id="cb146-8"><a href="timetoevent.html#cb146-8" tabindex="-1"></a>      on_anticoagulants <span class="sc">+</span> on_antiplatelets <span class="sc">+</span> ich_location <span class="sc">+</span></span>
<span id="cb146-9"><a href="timetoevent.html#cb146-9" tabindex="-1"></a>      ich_s_volume <span class="sc">+</span> ivh_s_volume <span class="sc">+</span> gcs_category,</span>
<span id="cb146-10"><a href="timetoevent.html#cb146-10" tabindex="-1"></a>    <span class="at">data =</span> </span>
<span id="cb146-11"><a href="timetoevent.html#cb146-11" tabindex="-1"></a>      <span class="co"># Note: `trt.id` must be 0/1, not factor</span></span>
<span id="cb146-12"><a href="timetoevent.html#cb146-12" tabindex="-1"></a>      sim_miii <span class="sc">%&gt;%</span> </span>
<span id="cb146-13"><a href="timetoevent.html#cb146-13" tabindex="-1"></a>      as.data.frame,</span>
<span id="cb146-14"><a href="timetoevent.html#cb146-14" tabindex="-1"></a>    <span class="at">trt.id =</span> <span class="st">&quot;tx&quot;</span>,</span>
<span id="cb146-15"><a href="timetoevent.html#cb146-15" tabindex="-1"></a>    <span class="at">fixed =</span> <span class="cn">TRUE</span></span>
<span id="cb146-16"><a href="timetoevent.html#cb146-16" tabindex="-1"></a>  )</span>
<span id="cb146-17"><a href="timetoevent.html#cb146-17" tabindex="-1"></a></span>
<span id="cb146-18"><a href="timetoevent.html#cb146-18" tabindex="-1"></a>surv_marginal_hr_adj_table <span class="ot">&lt;-</span></span>
<span id="cb146-19"><a href="timetoevent.html#cb146-19" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb146-20"><a href="timetoevent.html#cb146-20" tabindex="-1"></a>    <span class="at">HR =</span> <span class="fu">exp</span>(surv_marginal_hr_adj<span class="sc">$</span>beta),</span>
<span id="cb146-21"><a href="timetoevent.html#cb146-21" tabindex="-1"></a>    <span class="fu">summary</span>(surv_marginal_hr_adj)<span class="sc">$</span>tab</span>
<span id="cb146-22"><a href="timetoevent.html#cb146-22" tabindex="-1"></a>  )</span>
<span id="cb146-23"><a href="timetoevent.html#cb146-23" tabindex="-1"></a></span>
<span id="cb146-24"><a href="timetoevent.html#cb146-24" tabindex="-1"></a>surv_marginal_hr_adj_table</span></code></pre></div>
<pre><code>##                 HR     Log.HR        SE    LowerCI     UpperCI           p
## Prop Haz 0.5672352 -0.5669813 0.2015897 -0.9620899 -0.17187265 0.004915033
## Speff    0.6359396 -0.4526517 0.1845075 -0.8142797 -0.09102368 0.014155331</code></pre>
<p>The hazard of death would be 36% lower if all eligible patients were assigned to treatment instead of control.</p>
<p>The relative efficiency of an adjusted analysis can be computed from the resulting object:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="timetoevent.html#cb148-1" tabindex="-1"></a>relative_efficiency_spe_mhr <span class="ot">&lt;-</span></span>
<span id="cb148-2"><a href="timetoevent.html#cb148-2" tabindex="-1"></a>  <span class="fu">with</span>(</span>
<span id="cb148-3"><a href="timetoevent.html#cb148-3" tabindex="-1"></a>    <span class="at">data =</span> surv_marginal_hr_adj,</span>
<span id="cb148-4"><a href="timetoevent.html#cb148-4" tabindex="-1"></a>    <span class="at">expr =</span> {<span class="fu">as.numeric</span>(varbeta[<span class="st">&quot;Prop Haz&quot;</span>]<span class="sc">/</span>varbeta[<span class="st">&quot;Speff&quot;</span>])}</span>
<span id="cb148-5"><a href="timetoevent.html#cb148-5" tabindex="-1"></a>  )</span>
<span id="cb148-6"><a href="timetoevent.html#cb148-6" tabindex="-1"></a></span>
<span id="cb148-7"><a href="timetoevent.html#cb148-7" tabindex="-1"></a>relative_efficiency_spe_mhr</span></code></pre></div>
<pre><code>## [1] 1.193737</code></pre>
<p>Covariates improve the efficiency of estimating the marginal hazard ratio by 19.4%.</p>
<hr />
</div>
<div id="survival-probability-1" class="section level3 hasAnchor" number="7.2.4">
<h3><span class="header-section-number">7.2.4</span> Survival Probability<a href="timetoevent.html#survival-probability-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Producing covariate-adjusted estimates of the survival metadata follows the same syntax as before with <code>adjrct::survrct</code>. The formulas can be used to include terms for the baseline covariates in both the outcome and treatment models:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="timetoevent.html#cb150-1" tabindex="-1"></a><span class="co"># Note: this can be time-consuming to compute</span></span>
<span id="cb150-2"><a href="timetoevent.html#cb150-2" tabindex="-1"></a>surv_metadata_adj <span class="ot">&lt;-</span></span>
<span id="cb150-3"><a href="timetoevent.html#cb150-3" tabindex="-1"></a>  adjrct<span class="sc">::</span><span class="fu">survrct</span>(</span>
<span id="cb150-4"><a href="timetoevent.html#cb150-4" tabindex="-1"></a>    <span class="at">outcome.formula =</span></span>
<span id="cb150-5"><a href="timetoevent.html#cb150-5" tabindex="-1"></a>      <span class="fu">Surv</span>(days_on_study, died_on_study) <span class="sc">~</span></span>
<span id="cb150-6"><a href="timetoevent.html#cb150-6" tabindex="-1"></a>      tx <span class="sc">+</span> age <span class="sc">+</span> male <span class="sc">+</span> hx_cvd <span class="sc">+</span> hx_hyperlipidemia <span class="sc">+</span></span>
<span id="cb150-7"><a href="timetoevent.html#cb150-7" tabindex="-1"></a>      on_anticoagulants <span class="sc">+</span> on_antiplatelets <span class="sc">+</span> ich_location <span class="sc">+</span></span>
<span id="cb150-8"><a href="timetoevent.html#cb150-8" tabindex="-1"></a>      ich_s_volume <span class="sc">+</span> ivh_s_volume <span class="sc">+</span> gcs_category,</span>
<span id="cb150-9"><a href="timetoevent.html#cb150-9" tabindex="-1"></a>    <span class="at">trt.formula =</span></span>
<span id="cb150-10"><a href="timetoevent.html#cb150-10" tabindex="-1"></a>      tx <span class="sc">~</span></span>
<span id="cb150-11"><a href="timetoevent.html#cb150-11" tabindex="-1"></a>      age <span class="sc">+</span> male <span class="sc">+</span> hx_cvd <span class="sc">+</span> hx_hyperlipidemia <span class="sc">+</span></span>
<span id="cb150-12"><a href="timetoevent.html#cb150-12" tabindex="-1"></a>      on_anticoagulants <span class="sc">+</span> on_antiplatelets <span class="sc">+</span> ich_location <span class="sc">+</span></span>
<span id="cb150-13"><a href="timetoevent.html#cb150-13" tabindex="-1"></a>      ich_s_volume <span class="sc">+</span> ivh_s_volume <span class="sc">+</span> gcs_category,</span>
<span id="cb150-14"><a href="timetoevent.html#cb150-14" tabindex="-1"></a>    <span class="at">data =</span> sim_miii</span>
<span id="cb150-15"><a href="timetoevent.html#cb150-15" tabindex="-1"></a>  )</span></code></pre></div>
<p>Once the metadata is computed, the syntax to produce the results is identical:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="timetoevent.html#cb151-1" tabindex="-1"></a>surv_prob_adj <span class="ot">&lt;-</span></span>
<span id="cb151-2"><a href="timetoevent.html#cb151-2" tabindex="-1"></a>  adjrct<span class="sc">::</span><span class="fu">survprob</span>(</span>
<span id="cb151-3"><a href="timetoevent.html#cb151-3" tabindex="-1"></a>    <span class="at">metadata =</span> surv_metadata_adj,</span>
<span id="cb151-4"><a href="timetoevent.html#cb151-4" tabindex="-1"></a>    <span class="at">horizon =</span> <span class="dv">90</span></span>
<span id="cb151-5"><a href="timetoevent.html#cb151-5" tabindex="-1"></a>  )</span></code></pre></div>
<p>The results can be printed using the <code>base::print</code> function:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="timetoevent.html#cb152-1" tabindex="-1"></a>surv_prob_adj</span></code></pre></div>
<pre><code>## Survival Probability Estimator: tmle</code></pre>
<pre><code>## Marginal Survival Probability: Pr(T &gt; 90 | A = a)</code></pre>
<pre><code>## Treatment Arm</code></pre>
<pre><code>## Estimate: 0.89</code></pre>
<pre><code>## Std. error: 0.02</code></pre>
<pre><code>## 95% CI: (0.85, 0.93)</code></pre>
<pre><code>## Control Arm</code></pre>
<pre><code>## Estimate: 0.81</code></pre>
<pre><code>## Std. error: 0.02</code></pre>
<pre><code>## 95% CI: (0.77, 0.86)</code></pre>
<pre><code>## Treatment Effect: Pr(T &gt; 90 | A = 1) - Pr(T &gt; 90 | A = 0)</code></pre>
<pre><code>## Additive effect</code></pre>
<pre><code>## Estimate: 0.08</code></pre>
<pre><code>## Std. error: 0.03</code></pre>
<pre><code>## 95% CI: (0.02, 0.14)</code></pre>
<p>The probability of surviving at 90 days post randomization was 8 percent higher if everyone were assigned to treatment than if everyone were assigned to control.</p>
<p>The relative efficiency of an adjusted analysis can be computed from the resulting object:</p>
<p>Calculating the relative efficiency gives:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="timetoevent.html#cb168-1" tabindex="-1"></a>relative_efficiency_surv_prob <span class="ot">&lt;-</span></span>
<span id="cb168-2"><a href="timetoevent.html#cb168-2" tabindex="-1"></a>  (surv_prob_unadj<span class="sc">$</span>estimates[[<span class="dv">1</span>]]<span class="sc">$</span>std.error<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span></span>
<span id="cb168-3"><a href="timetoevent.html#cb168-3" tabindex="-1"></a>     surv_prob_adj<span class="sc">$</span>estimates[[<span class="dv">1</span>]]<span class="sc">$</span>std.error<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb168-4"><a href="timetoevent.html#cb168-4" tabindex="-1"></a></span>
<span id="cb168-5"><a href="timetoevent.html#cb168-5" tabindex="-1"></a>relative_efficiency_surv_prob</span></code></pre></div>
<p>[1] 1.084233</p>
<p>Covariates improve the efficiency of estimating the survival probability by 8.4%.</p>
<hr />
</div>
<div id="restricted-mean-survival-time-rmst-1" class="section level3 hasAnchor" number="7.2.5">
<h3><span class="header-section-number">7.2.5</span> Restricted Mean Survival Time (RMST)<a href="timetoevent.html#restricted-mean-survival-time-rmst-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Similar to the survival probability, once the metadata is computed, the syntax to produce the covariate-adjusted RMST is identical:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="timetoevent.html#cb169-1" tabindex="-1"></a>rmst_adj <span class="ot">&lt;-</span></span>
<span id="cb169-2"><a href="timetoevent.html#cb169-2" tabindex="-1"></a>  adjrct<span class="sc">::</span><span class="fu">rmst</span>(</span>
<span id="cb169-3"><a href="timetoevent.html#cb169-3" tabindex="-1"></a>    <span class="at">metadata =</span> surv_metadata_adj,</span>
<span id="cb169-4"><a href="timetoevent.html#cb169-4" tabindex="-1"></a>    <span class="at">horizon =</span> <span class="dv">90</span></span>
<span id="cb169-5"><a href="timetoevent.html#cb169-5" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="timetoevent.html#cb170-1" tabindex="-1"></a>rmst_adj</span></code></pre></div>
<pre><code>## RMST Estimator: tmle</code></pre>
<pre><code>## Marginal RMST: E(min[T, 90] | A = a)</code></pre>
<pre><code>## Treatment Arm</code></pre>
<pre><code>## Estimate: 84.28</code></pre>
<pre><code>## Std. error: 1.19</code></pre>
<pre><code>## 95% CI: (81.95, 86.61)</code></pre>
<pre><code>## Control Arm</code></pre>
<pre><code>## Estimate: 76.65</code></pre>
<pre><code>## Std. error: 1.77</code></pre>
<pre><code>## 95% CI: (73.17, 80.13)</code></pre>
<pre><code>## Treatment Effect: E(min[T, 90] | A = 1) - E(min[T, 90] | A = 0)</code></pre>
<pre><code>## Additive effect</code></pre>
<pre><code>## Estimate: 7.63</code></pre>
<pre><code>## Std. error: 2.11</code></pre>
<pre><code>## 95% CI: (3.49, 11.77)</code></pre>
<p>Patients can expect to live 7.6 days longer in the first 90 days if everyone were assigned to treatment than if everyone were assigned to control. Calculating the relative efficiency gives:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="timetoevent.html#cb186-1" tabindex="-1"></a>relative_efficiency_rmst <span class="ot">&lt;-</span></span>
<span id="cb186-2"><a href="timetoevent.html#cb186-2" tabindex="-1"></a>  (rmst_unadj<span class="sc">$</span>estimates[[<span class="dv">1</span>]]<span class="sc">$</span>std.error<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span></span>
<span id="cb186-3"><a href="timetoevent.html#cb186-3" tabindex="-1"></a>     rmst_adj<span class="sc">$</span>estimates[[<span class="dv">1</span>]]<span class="sc">$</span>std.error<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb186-4"><a href="timetoevent.html#cb186-4" tabindex="-1"></a></span>
<span id="cb186-5"><a href="timetoevent.html#cb186-5" tabindex="-1"></a>relative_efficiency_rmst</span></code></pre></div>
<p>[1] 1.138953</p>
<p>Covariates improve the efficiency of estimating the RMST by 13.9%.</p>

</div>
</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Diaz2018" class="csl-entry">
Dı́az, Iván, Elizabeth Colantuoni, Daniel F. Hanley, and Michael Rosenblum. 2018. <span>“Improved Precision in the Analysis of Randomized Trials with Survival Outcomes, Without Assuming Proportional Hazards.”</span> <em>Lifetime Data Analysis</em> 25 (3): 439–68. <a href="https://doi.org/10.1007/s10985-018-9428-5">https://doi.org/10.1007/s10985-018-9428-5</a>.
</div>
<div id="ref-VanLancker2021" class="csl-entry">
Lancker, Kelly Van, Oliver Dukes, and Stijn Vansteelandt. 2021. <span>“Principled Selection of Baseline Covariates to Account for Censoring in Randomized Trials with a Survival Endpoint.”</span> <em>Statistics in Medicine</em> 40 (18): 4108–21. <a href="https://doi.org/10.1002/sim.9017">https://doi.org/10.1002/sim.9017</a>.
</div>
<div id="ref-Lin2017" class="csl-entry">
Lin, Ray S., and Larry F. León. 2017. <span>“Estimation of Treatment Effects in Weighted Log-Rank Tests.”</span> <em>Contemporary Clinical Trials Communications</em> 8 (December): 147–55. <a href="https://doi.org/10.1016/j.conctc.2017.09.004">https://doi.org/10.1016/j.conctc.2017.09.004</a>.
</div>
<div id="ref-Rudser2012" class="csl-entry">
Rudser, Kyle D., Michael L. LeBlanc, and Scott S. Emerson. 2012. <span>“Distribution-Free Inference on Contrasts of Arbitrary Summary Measures of Survival.”</span> <em>Statistics in Medicine</em> 31 (16): 1722–37. <a href="https://doi.org/10.1002/sim.4505">https://doi.org/10.1002/sim.4505</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="doublyrobust.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="groupsequential.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/covariateadjustment/covariateadjustment.github.io/edit/main/06-Time-To-Event-Outcomes.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
